<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Gestión de Árbitros</title>


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

 
  <link rel="stylesheet" href="/css/globals.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/home.css">
  <link rel="stylesheet" href="/css/footer.css">

 
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>

  <div th:replace="fragments/header :: header"></div>

  <main class="container my-5">
    <h1 class="mb-4">Gestión de Árbitros</h1>

    <!-- Tabla de árbitros -->
    <table class="table table-hover table-bordered">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Nombre</th>
          <th>Correo</th>
          <th>Especialidad</th>
          <th>Escalafón</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="a : ${arbitros}">
          <td th:text="${a.id}"></td>
          <td th:text="${(a.nombre != null ? a.nombre : '') + ' ' + (a.apellido != null ? a.apellido : '')}"></td>
          <td th:text="${a.correo}"></td>
          <td th:text="${a.especialidad}"></td>
          <td th:text="${a.escalafon}"></td>
          <td class="text-center actions" style="display:flex; justify-content:center; gap:0.3rem; align-items:center;">
              <!-- Editar -->
              <a th:href="@{'/admin/arbitros/' + ${a.id} + '/editar'}"
                class="btn btn-sm btn-caba-naranja" title="Editar">
                <i class="bi bi-pencil-square"></i>
              </a>

              <!-- Eliminar -->
              <form th:action="@{'/admin/arbitros/' + ${a.id} + '/eliminar'}" method="post" style="display:inline;">
                  <div th:if="${_csrf != null}">
                      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                  </div>
                  <button type="submit" class="btn btn-sm btn-caba-peligro" 
                          onclick="return confirm('¿Eliminar árbitro?')" title="Eliminar">
                      <i class="bi bi-trash"></i>
                  </button>
              </form>
          </td>
        </tr>

        <tr th:if="${#lists.isEmpty(arbitros)}">
          <td colspan="6">No hay árbitros registrados.</td>
        </tr>
      </tbody>
    </table>
  </main>

  <!-- FOOTER -->
  <div th:replace="fragments/footer :: footer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
